#!/bin/bash
# Interactive kill command that utilizes procmatch

set -eu
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
source $DIR/../shellrc

PID_TO_KILL=$(procmatch "$@" $$)

read -p "Kill process ${PID_TO_KILL} ($(procname $PID_TO_KILL))? [yn] " -n 1 -r
echo

if [[ $REPLY == "y" ]]; then
    kill $PID_TO_KILL
fi
